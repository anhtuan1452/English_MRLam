<!-- test_admin/templates/test_admin/test_list.html -->
{% extends 'base-admin.html' %}
{% load static %}
{% block title %}
  Danh sách bài kiểm tra
{% endblock %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/test_add.css' %}">

  <div class="container">
    <h2>Bài kiểm tra</h2>
    <ul class="nav nav-tabs mb-3">
        <li class="nav-item">
            <a href="{% url 'admin_test_list' %}" class="nav-link active" role="tab">Bài kiểm tra</a>
        </li>
        <li class="nav-item">
            <a href="{% url 'results' %}" class="nav-link" role="tab">Kết quả</a>
        </li>
    </ul>
    <!-- Navbar with search and button -->
    <div class="d-flex justify-content-between align-items-center mb-3">
      <!-- Search Bar -->
      <div class="input-group" style="max-width: 400px;">
        <input type="text" class="form-control" placeholder="Nhập tên bài kiểm tra" aria-label="Nhập tên bài kiểm tra">
        <button class="btn btn-outline-secondary" type="button">
          <i data-lucide="search"></i> <!-- Thêm biểu tượng tìm kiếm -->
        </button>
      </div>
      <!-- Add New Button -->
      <a href="{% url 'admin_test_add' %}" class="btn btn-danger">
        + Thêm mới
      </a>
    </div>
    <hr>
    <table class="table table-bordered">
      <thead>
        <tr>
          <th>ID</th>
          <th>Tên bài kiểm tra</th>
          <th>Số câu hỏi</th>
          <th>Thời gian</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        {% for test in tests %}
          <tr>
            <td>{{ test.test_id }}</td>
            <td>{{ test.test_name }}</td>
            <td>{{ test.question_set.count }}</td>
            <td>{{ test.time }}</td>
            <td>
              <a href="" class="btn btn-primary">Xem</a>
              <a href="" class="btn btn-warning">Sửa</a>
              <a href="" class="btn btn-danger">Xóa</a>
            </td>
          </tr>
        {% empty %}
          <tr>
            <td colspan="5">Không có bài kiểm tra nào.</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
  <script src="https://unpkg.com/lucide@latest"></script>
  <script>
    // Initialize Lucide icons
    document.addEventListener('DOMContentLoaded', function() {
      lucide.createIcons();
    });
  </script>
{% endblock %}

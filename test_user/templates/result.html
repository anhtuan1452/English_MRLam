{% extends "base.html" %}

{% block title %}
    Result
{% endblock %}
    <title>Kết Quả Bài Kiểm Tra | Mr Lam English</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
{% block content %}

    <style>
        :root {
            --primary: #2563eb;
            --primary-light: #dbeafe;
            --success: #4ade80;
            --success-light: #dcfce7;
            --warning: #fbbf24;
            --warning-light: #fef3c7;
            --danger: #f87171;
            --danger-light: #fee2e2;
            --gray-100: #f3f4f6;
            --gray-200: #e5e7eb;
            --gray-300: #d1d5db;
            --gray-400: #9ca3af;
            --gray-500: #6b7280;
            --gray-600: #4b5563;
            --gray-700: #374151;
            --gray-800: #1f2937;
            --gray-900: #111827;
            --border-radius: 12px;
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --shadow-md: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc;
            color: var(--gray-800);
            line-height: 1.5;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header */
        header {
            background-color: white;
            box-shadow: var(--shadow-sm);
            position: sticky;
            top: 0;
            z-index: 10;
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 20px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            text-decoration: none;
            color: var(--gray-800);
        }

        .logo img {
            width: 32px;
            height: 32px;
        }

        .logo-text {
            font-weight: 600;
            font-size: 16px;
        }

        .nav-links {
            display: flex;
            gap: 24px;
        }

        .nav-link {
            text-decoration: none;
            color: var(--gray-600);
            font-size: 14px;
            font-weight: 500;
            transition: color 0.2s;
        }

        .nav-link:hover {
            color: var(--primary);
        }

        .search-bar {
            display: flex;
            align-items: center;
            background-color: var(--gray-100);
            border-radius: 8px;
            padding: 6px 12px;
            width: 240px;
        }

        .search-bar input {
            border: none;
            background: transparent;
            outline: none;
            width: 100%;
            font-size: 14px;
            padding: 4px 8px;
        }

        .search-bar i {
            color: var(--gray-400);
            font-size: 14px;
        }

        .auth-buttons {
            display: flex;
            gap: 10px;
        }

        .btn {
            padding: 8px 16px;
            border-radius: 6px;
            font-weight: 500;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.2s;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
        }

        .btn-outline {
            border: 1px solid var(--gray-300);
            background-color: white;
            color: var(--gray-700);
        }

        .btn-outline:hover {
            background-color: var(--gray-100);
        }

        .btn-primary {
            background-color: var(--primary);
            color: white;
            border: none;
        }

        .btn-primary:hover {
            background-color: #1d4ed8;
        }

        /* Main Content */
        .main-content {
            padding: 40px 0;
        }

        .page-title {
            font-size: 24px;
            font-weight: 700;
            color: var(--gray-900);
            margin-bottom: 30px;
            text-align: center;
        }

        /* Score Circle */
        .score-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 30px;
        }

        .score-circle {
            position: relative;
            width: 120px;
            height: 120px;
            margin-bottom: 15px;
        }

        .circle-bg {
            fill: none;
            stroke: var(--gray-200);
            stroke-width: 8;
        }

        .circle-progress {
            fill: none;
            stroke: #4ade80;
            stroke-width: 8;
            stroke-linecap: round;
            transform: rotate(-90deg);
            transform-origin: center;
            transition: stroke-dashoffset 0.8s ease;
        }

        .score-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
        }

        .score-value {
            font-size: 28px;
            font-weight: 700;
            color: var(--gray-900);
            line-height: 1;
        }

        .score-label {
            font-size: 12px;
            color: var(--gray-500);
            margin-top: 4px;
        }

        .congrats-message {
            font-size: 15px;
            color: var(--gray-600);
            margin-top: 10px;
            text-align: center;
        }

        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-bottom: 40px;
            border-top: 1px solid var(--gray-200);
            border-bottom: 1px solid var(--gray-200);
            padding: 30px 0;
        }

        .stat-card {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-sm);
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .stat-card:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow);
        }

        .stat-value {
            font-size: 24px;
            font-weight: 700;
            color: var(--gray-900);
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 12px;
            color: var(--gray-500);
            text-align: center;
        }

        .grade {
            color: #4ade80;
        }

        /* Performance Chart */
        .performance-section {
            margin-bottom: 40px;
        }

        .section-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--gray-800);
            margin-bottom: 20px;
        }

        .chart-container {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 20px;
            box-shadow: var(--shadow-sm);
        }

        .bar-chart {
            display: flex;
            justify-content: space-between;
            align-items: flex-end;
            height: 200px;
            padding: 20px 0;
        }

        .bar-group {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
            position: relative;
        }

        .bar {
            width: 40px;
            border-radius: 6px 6px 0 0;
            transition: height 0.8s ease;
            position: relative;
        }

        .bar-score {
            position: absolute;
            top: -25px;
            left: 50%;
            transform: translateX(-50%);
            background-color: var(--gray-800);
            color: white;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
            white-space: nowrap;
        }

        .bar-score::after {
            content: '';
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            border-width: 4px;
            border-style: solid;
            border-color: var(--gray-800) transparent transparent transparent;
        }

        .bar-1 { background-color: #4ade80; height: 70%; }
        .bar-2 { background-color: #3b82f6; height: 50%; }
        .bar-3 { background-color: #4ade80; height: 85%; }
        .bar-4 { background-color: #3b82f6; height: 65%; }
        .bar-5 { background-color: #fbbf24; height: 40%; }
        .bar-6 { background-color: #fbbf24; height: 55%; }

        .bar-label {
            margin-top: 10px;
            font-size: 12px;
            color: var(--gray-600);
            text-align: center;
        }

        /* Feedback Section */
        .feedback-section {
            margin-bottom: 40px;
        }

        .feedback-content {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 20px;
            box-shadow: var(--shadow-sm);
        }

        .feedback-text {
            font-size: 14px;
            color: var(--gray-700);
            line-height: 1.6;
        }

        /* Recommended Courses */
        .recommendations-section {
            margin-bottom: 40px;
        }

        .recommendations-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .course-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
        }

        .course-card {
            background-color: white;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow-sm);
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .course-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-md);
        }

        .course-header {
            padding: 20px;
            text-align: center;
        }

        .course-header.speaking {
            background-color: #dbeafe;
        }

        .course-header.writing {
            background-color: #dcfce7;
        }

        .course-header.level2 {
            background-color: #fef3c7;
        }

        .course-icon {
            width: 60px;
            height: 60px;
            margin: 0 auto 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            font-size: 24px;
        }

        .course-icon.speaking {
            background-color: #3b82f6;
            color: white;
        }

        .course-icon.writing {
            background-color: #4ade80;
            color: white;
        }

        .course-icon.level2 {
            background-color: #fbbf24;
            color: white;
        }

        .course-title {
            font-size: 16px;
            font-weight: 600;
            color: var(--gray-800);
            margin-bottom: 5px;
        }

        .course-subtitle {
            font-size: 12px;
            color: var(--gray-500);
        }

        .course-content {
            padding: 20px;
        }

        .course-description {
            font-size: 13px;
            color: var(--gray-600);
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .course-button {
            width: 100%;
            padding: 10px;
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .course-button:hover {
            background-color: #1d4ed8;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }

            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .course-grid {
                grid-template-columns: 1fr;
                gap: 30px;
            }

            .bar-chart {
                overflow-x: auto;
                padding-bottom: 10px;
            }

            .bar {
                width: 30px;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="header-container container">
            <a href="#" class="logo">
                <img src="https://via.placeholder.com/32/4f46e5/ffffff?text=ML" alt="Mr Lam Logo">
                <span class="logo-text">Mr Lam</span>
            </a>

            <div class="nav-links">
                <a href="#" class="nav-link">Khóa học</a>
                <a href="#" class="nav-link">Tài liệu</a>
                <a href="#" class="nav-link">Bài test</a>
            </div>

            <div class="search-bar">
                <i class="fas fa-search"></i>
                <input type="text" placeholder="Tìm kiếm...">
            </div>

            <div class="auth-buttons">
                <a href="#" class="btn btn-outline">Log in</a>
                <a href="#" class="btn btn-primary">
                    <i class="fas fa-user-plus"></i>
                    Sign up
                </a>
            </div>
        </div>
    </header>

    <main class="main-content container">
        <h1 class="page-title">Kết Quả Bài Kiểm Tra: English Level 1 - Midterm Test</h1>

        <div class="score-container">
            <div class="score-circle">
                <svg width="120" height="120" viewBox="0 0 120 120">
                    <circle class="circle-bg" cx="60" cy="60" r="54" />
                    <circle class="circle-progress" cx="60" cy="60" r="54" stroke-dasharray="339.292" stroke-dashoffset="84.823" /> <!-- 75% = 339.292 * 0.25 -->
                </svg>
                <div class="score-text">
                    <div class="score-value">75</div>
                    <div class="score-label">Điểm số</div>
                </div>
            </div>
            <p class="congrats-message">Chúc mừng! Bạn đã hoàn thành bài kiểm tra và đạt kết quả tốt.</p>
        </div>

        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-value">15/20</div>
                <div class="stat-label">Số câu đúng</div>
            </div>

            <div class="stat-card">
                <div class="stat-value">75<span>%</span></div>
                <div class="stat-label">Tỷ lệ đúng</div>
            </div>

            <div class="stat-card">
                <div class="stat-value">42:15</div>
                <div class="stat-label">Thời gian hoàn thành</div>
            </div>

            <div class="stat-card">
                <div class="stat-value grade">B+</div>
                <div class="stat-label">Xếp loại</div>
            </div>
        </div>

        <section class="performance-section">
            <h2 class="section-title">Kết quả theo từng phần</h2>
            <div class="chart-container">
                <div class="bar-chart">
                    <div class="bar-group">
                        <div class="bar bar-1">
                            <div class="bar-score">70%</div>
                        </div>
                        <div class="bar-label">Ngữ pháp</div>
                    </div>

                    <div class="bar-group">
                        <div class="bar bar-2">
                            <div class="bar-score">50%</div>
                        </div>
                        <div class="bar-label">Từ vựng</div>
                    </div>

                    <div class="bar-group">
                        <div class="bar bar-3">
                            <div class="bar-score">85%</div>
                        </div>
                        <div class="bar-label">Đọc hiểu</div>
                    </div>

                    <div class="bar-group">
                        <div class="bar bar-4">
                            <div class="bar-score">65%</div>
                        </div>
                        <div class="bar-label">Nghe hiểu</div>
                    </div>

                    <div class="bar-group">
                        <div class="bar bar-5">
                            <div class="bar-score">40%</div>
                        </div>
                        <div class="bar-label">Viết</div>
                    </div>

                    <div class="bar-group">
                        <div class="bar bar-6">
                            <div class="bar-score">55%</div>
                        </div>
                        <div class="bar-label">Nói</div>
                    </div>
                </div>
            </div>
        </section>

        <section class="feedback-section">
            <h2 class="section-title">Nhận xét</h2>
            <div class="feedback-content">
                <p class="feedback-text">
                    Bạn đã thể hiện tốt với trong phần đọc hiểu (85%) và ngữ pháp (70%). Tuy nhiên, cần chú ý hơn với các phần từ vựng (50%), viết (40%), và nói (55%). Đặc biệt, phần viết cần được cải thiện nhiều hơn. Bạn nên đọc nhiều hơn và luyện tập thêm để nâng cao kỹ năng viết và từ vựng.
                </p>
            </div>
        </section>

        <section class="recommendations-section">
            <div class="recommendations-header">
                <h2 class="section-title">Khóa Học Đề Xuất Dựa Trên Kết Quả Của Bạn</h2>
            </div>

            <div class="course-grid">
                <div class="course-card">
                    <div class="course-header speaking">
                        <div class="course-icon speaking">
                            <i class="fas fa-comments"></i>
                        </div>
                        <h3 class="course-title">English Speaking Skills</h3>
                        <div class="course-subtitle">Intermediate • 8 Tuần</div>
                    </div>
                    <div class="course-content">
                        <p class="course-description">
                            Khóa học tập trung vào kỹ năng giao tiếp bằng tiếng Anh, giúp bạn tự tin hơn trong các tình huống giao tiếp hàng ngày và phát triển khả năng diễn đạt trôi chảy.
                        </p>
                        <button class="course-button">Xem chi tiết</button>
                    </div>
                </div>

                <div class="course-card">
                    <div class="course-header writing">
                        <div class="course-icon writing">
                            <i class="fas fa-pen-fancy"></i>
                        </div>
                        <h3 class="course-title">Academic Writing</h3>
                        <div class="course-subtitle">Intermediate • 6 Tuần</div>
                    </div>
                    <div class="course-content">
                        <p class="course-description">
                            Khóa học giúp bạn cải thiện kỹ năng viết học thuật, từ cấu trúc câu đến tổ chức bài viết. Bạn sẽ học cách viết rõ ràng, mạch lạc và thuyết phục hơn.
                        </p>
                        <button class="course-button">Xem chi tiết</button>
                    </div>
                </div>

                <div class="course-card">
                    <div class="course-header level2">
                        <div class="course-icon level2">
                            <i class="fas fa-graduation-cap"></i>
                        </div>
                        <h3 class="course-title">English Level 2 - Complete</h3>
                        <div class="course-subtitle">Intermediate • 12 Tuần</div>
                    </div>
                    <div class="course-content">
                        <p class="course-description">
                            Khóa học toàn diện giúp bạn nâng cao trình độ lên cấp độ 2, bao gồm ngữ pháp, từ vựng, đọc, viết, nghe và nói. Đây là bước tiếp theo lý tưởng cho bạn.
                        </p>
                        <button class="course-button">Xem chi tiết</button>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <script>
        // Animation for the progress circle
        document.addEventListener('DOMContentLoaded', function() {
            const circle = document.querySelector('.circle-progress');
            const radius = circle.getAttribute('r');
            const circumference = 2 * Math.PI * radius;

            // Set the circle properties
            circle.style.strokeDasharray = `${circumference}`;

            // Animate the progress
            setTimeout(() => {
                const percent = 75;
                const offset = circumference - (percent / 100 * circumference);
                circle.style.strokeDashoffset = offset;
            }, 300);

            // Animate the bars
            const bars = document.querySelectorAll('.bar');
            setTimeout(() => {
                bars.forEach(bar => {
                    const height = bar.style.height;
                    bar.style.height = '0';
                    setTimeout(() => {
                        bar.style.height = height;
                    }, 100);
                });
            }, 500);
        });
    </script>
{% endblock %}
{% extends 'base-admin.html' %}

{% block content %}
<div class="container-fluid mt-4">
    <h1>Danh sách tài liệu</h1>
    
    <div class="d-flex justify-content-between align-items-center mb-4">
        <div class="position-relative" style="max-width: 500px; width: 100%;">
            <form method="get" action="" class="d-flex">
                <div class="input-group">
                    <input type="text" name="search" class="form-control" placeholder="Tìm kiếm tài liệu" value="{{ search_term }}">
                    <button type="submit" class="btn btn-danger">Tìm kiếm</button>
                </div>
            </form>
        </div>
        <a href="{% url 'DocumentManagement:add_document' %}" class="btn btn-danger">Thêm tài liệu</a>
    </div>
    
    <table class="table table-bordered">
        <thead>
            <tr>
                <th>STT</th>
                <th>Khóa học <i class="fas fa-sort-down"></i></th>
                <th>Nội dung tài liệu <i class="fas fa-sort-down"></i></th>
                <th>Định dạng <i class="fas fa-sort-down"></i></th>
                <th>Ngày cập nhật <i class="fas fa-sort-down"></i></th>
            </tr>
        </thead>
        <tbody>
            {% for tai_lieu in danh_sach_tai_lieu %}
            <tr>
                <td>{{ forloop.counter }}</td>
                <td>{{ tai_lieu.khoa_hoc.ten_khoa_hoc }}</td>
                <td>{{ tai_lieu.ten_tai_lieu }}</td>
                <td>{{ tai_lieu.file_type }}</td>
                <td>{{ tai_lieu.ngay_cap_nhat|date:"d/m/Y" }}</td>
                <td>
                    <a href="{% url 'DocumentManagement:document_detail' tai_lieu.id %}" class="btn btn-sm btn-info">
                        <i class="fas fa-eye"></i>
                    </a>
                    <a href="{% url 'DocumentManagement:edit_document' tai_lieu.id %}" class="btn btn-sm btn-warning">
                        <i class="fas fa-edit"></i>
                    </a>
                    <a href="{% url 'DocumentManagement:delete_document' tai_lieu.id %}" class="btn btn-sm btn-danger">
                        <i class="fas fa-trash"></i>
                    </a>
                </td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="6" class="text-center">Không tìm thấy tài liệu nào</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}


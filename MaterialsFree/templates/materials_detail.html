<!-- templates/MaterialsFree/material_detail.html -->
{% extends 'base.html' %}

{% block title %}{{ document.doc_name }} - HL Lam{% endblock %}
{% block styles %}
<style>
    /* Thiết lập chung */
body {
    margin-top:9vh;
    font-family: 'Segoe UI', Arial, sans-serif;
    line-height: 1.6;
    color: #333;
    background-color: #f8f9fa;
    height:100%;
}

.container {
    max-width: 1140px;
    margin: 0 auto;
    padding: 20px;
    height:95vh;
}

/* Breadcrumb */
.breadcrumb {
    display: flex;
    align-items: center;
    padding: 0;
    margin-bottom: 20px;
    list-style: none;
    background-color: transparent;
}

.breadcrumb a {
    color: #007bff;
    text-decoration: none;
    font-weight: 500;
}

.breadcrumb-item {
    display: flex;
    align-items: center;
}

.breadcrumb-item::before {
    content: ">";
    padding: 0 10px;
    color: #6c757d;
}

.breadcrumb-item.active {
    color: #6c757d;
}

/* Tiêu đề và nút download */
.d-flex {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

h1 {
    font-size: 2rem;
    font-weight: 700;
    color: #212529;
    margin: 0;
}

.download-btn {
    background-color: #f0f0f0;
    color: #333;
    border: none;
    padding: 8px 16px;
    border-radius: 4px;
    font-weight: 600;
    text-decoration: none;
    transition: background-color 0.3s;
}

.download-btn:hover {
    background-color: #e0e0e0;
}

/* Card chứa nội dung */
.card {
    background-color: #fff;
    border: 1px solid #e9ecef;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    margin-bottom: 30px;
}

.card-body {
    padding: 30px;
}

/* Nội dung ngữ pháp */
.grammar-content h1 {
    font-size: 1.8rem;
    text-align: center;
    margin-bottom: 30px;
    color: #212529;
}

.grammar-content h2 {
    font-size: 1.4rem;
    font-weight: 600;
    margin-top: 30px;
    margin-bottom: 20px;
    color: #212529;
    border-bottom: 1px solid #e9ecef;
    padding-bottom: 10px;
}

.grammar-content p {
    margin-bottom: 15px;
    font-size: 1rem;
}

.grammar-content ul,
.grammar-content ol {
    margin-bottom: 20px;
    padding-left: 25px;
}

.grammar-content li {
    margin-bottom: 8px;
}

/* Ví dụ */
.example {
    background-color: #f8f9fa;
    border-left: 4px solid #007bff;
    padding: 15px;
    margin-bottom: 20px;
    border-radius: 0 4px 4px 0;
}

.example p {
    margin: 5px 0;
}

/* Bảng */
table {
    width: 100%;
    border-collapse: collapse;
    margin-bottom: 20px;
}

table, th, td {
    border: 1px solid #dee2e6;
}

th, td {
    padding: 12px 15px;
    text-align: left;
}

th {
    background-color: #f8f9fa;
    font-weight: 600;
}

/* Responsive */
@media (max-width: 768px) {
    .container {
        padding: 15px;
    }

    .card-body {
        padding: 20px;
    }

    .d-flex {
        flex-direction: column;
        align-items: flex-start;
    }

    .download-btn {
        margin-top: 15px;
    }

    .grammar-content h1 {
        font-size: 1.6rem;
    }

    .grammar-content h2 {
        font-size: 1.3rem;
    }
}

/* Định dạng theo ảnh mẫu */
.grammar-content {
    font-size: 14px;
}

.grammar-content h1 {
    text-align: center;
    font-size: 1.5rem;
    margin-bottom: 20px;
}

.grammar-content h2 {
    font-size: 1.2rem;
    font-weight: bold;
    margin-top: 25px;
    margin-bottom: 15px;
}

.grammar-content p {
    margin-bottom: 10px;
}

.grammar-content ul li,
.grammar-content ol li {
    margin-bottom: 5px;
}

.example {
    background-color: #f5f5f5;
    border-left: 3px solid #4a90e2;
    padding: 10px 15px;
    margin: 10px 0 15px;
}

/* Định dạng bảng theo ảnh mẫu */
table {
    margin: 20px 0;
    font-size: 14px;
}

table th {
    background-color: #f5f5f5;
    font-weight: 600;
}

table td, table th {
    padding: 8px 12px;
    border: 1px solid #ddd;
}

/* Định dạng breadcrumb theo ảnh mẫu */
.breadcrumb {
    font-size: 14px;
    margin-bottom: 15px;
}

.breadcrumb a {
    color: #4a90e2;
}
</style>
{% endblock %}
{% block content %}
<div class="container">
    <nav aria-label="breadcrumb" class="mb-4">
        <ol class="breadcrumb">
            <a href="{% url 'materials_detail' doc_id=document.doc_id %}">Tài liệu</a>
            <li class="breadcrumb-item active">{{ document.doc_name }}</li>
        </ol>
    </nav>

    <div class="d-flex justify-content-between align-items-center mb-4">
        <h1>{{ document.doc_name }}</h1>
        <a href="{{ document.doc_file.url }}" class="btn download-btn" download>DOWNLOAD</a>
    </div>

    <div class="card">
        <div class="card-body grammar-content">
            {% if content_type == 'present_tense' %}
                <h1>Thì hiện tại đơn (Simple Present Tense)</h1>
                
                <h2>1. Tóm tắt lý thuyết về thì hiện tại đơn (Simple Present Tense)</h2>
                
                <p>1.1 Cách sử dụng thì hiện tại đơn:</p>
                <ul>
                    <li>Diễn tả một thói quen, hành động xảy ra thường xuyên trong hiện tại.</li>
                    <li>Diễn tả một sự thật hiển nhiên hoặc một chân lý.</li>
                    <li>Diễn tả một hành động xảy ra theo một thời gian biểu cố định.</li>
                    <li>Diễn tả cảm xúc, suy nghĩ, ý kiến, nhận thức, giác quan, sở thích...</li>
                </ul>
                
                <p>1.2 Dấu hiệu nhận biết thì hiện tại đơn:</p>
                <ul>
                    <li>Các trạng từ chỉ tần suất: always, usually, often, sometimes, rarely, never...</li>
                </ul>
                
                <p>1.3 Cấu trúc của thì hiện tại đơn:</p>
                <ul>
                    <li>Khẳng định: S + V(s/es) + O</li>
                    <li>Phủ định: S + do/does + not + V(nguyên thể) + O</li>
                    <li>Nghi vấn: Do/Does + S + V(nguyên thể) + O?</li>
                </ul>
                
                <h2>2. Các trường hợp sử dụng thì hiện tại đơn</h2>
                
                <p>2.1 Diễn tả một thói quen, hành động xảy ra thường xuyên ở hiện tại:</p>
                <div class="example">
                    <p>- I usually have breakfast at 7 AM. (Tôi thường ăn sáng lúc 7 giờ sáng.)</p>
                    <p>- She often goes to the cinema on weekends. (Cô ấy thường đi xem phim vào cuối tuần.)</p>
                </div>
                
                <p>2.2 Diễn tả một sự thật hiển nhiên hoặc một chân lý:</p>
                <div class="example">
                    <p>- The sun rises in the east. (Mặt trời mọc ở phía đông.)</p>
                    <p>- Water boils at 100 degrees Celsius. (Nước sôi ở 100 độ C.)</p>
                </div>
                
                <p>2.3 Diễn tả một hành động xảy ra theo thời gian biểu cố định:</p>
                <div class="example">
                    <p>- The train leaves at 9 AM tomorrow. (Tàu khởi hành lúc 9 giờ sáng ngày mai.)</p>
                    <p>- The movie starts at 8 PM tonight. (Bộ phim bắt đầu lúc 8 giờ tối nay.)</p>
                </div>
                
                <h2>3. Các dạng của động từ trong thì hiện tại đơn</h2>
                
                <p>3.1 Đối với các động từ thông thường:</p>
                <ul>
                    <li>Thêm "s" hoặc "es" vào sau động từ khi chủ ngữ là ngôi thứ 3 số ít (he, she, it).</li>
                    <li>Giữ nguyên động từ với các chủ ngữ khác (I, you, we, they).</li>
                </ul>
                
                <p>3.2 Quy tắc thêm "s" hoặc "es":</p>
                <ul>
                    <li>Thêm "s" vào sau hầu hết các động từ: work → works, play → plays, eat → eats</li>
                    <li>Thêm "es" vào sau các động từ tận cùng là o, s, z, ch, sh, x: go → goes, watch → watches, fix → fixes</li>
                    <li>Động từ tận cùng là y:
                        <ul>
                            <li>Nếu trước y là nguyên âm (a, e, i, o, u) → thêm s: play → plays</li>
                            <li>Nếu trước y là phụ âm → đổi y thành i rồi thêm es: study → studies</li>
                        </ul>
                    </li>
                </ul>
                
                <h2>4. Ví dụ minh họa</h2>
                
                <p>4.1 Câu khẳng định:</p>
                <div class="example">
                    <p>- I work in a bank. (Tôi làm việc trong một ngân hàng.)</p>
                    <p>- He works in a bank. (Anh ấy làm việc trong một ngân hàng.)</p>
                    <p>- They live in London. (Họ sống ở London.)</p>
                    <p>- She lives in Paris. (Cô ấy sống ở Paris.)</p>
                </div>
                
                <p>4.2 Câu phủ định:</p>
                <div class="example">
                    <p>- I do not (don't) work on Sundays. (Tôi không làm việc vào Chủ nhật.)</p>
                    <p>- He does not (doesn't) like coffee. (Anh ấy không thích cà phê.)</p>
                    <p>- They do not (don't) speak French. (Họ không nói tiếng Pháp.)</p>
                    <p>- She does not (doesn't) watch TV in the morning. (Cô ấy không xem TV vào buổi sáng.)</p>
                </div>
                
                <p>4.3 Câu nghi vấn:</p>
                <div class="example">
                    <p>- Do you work in a bank? (Bạn có làm việc trong ngân hàng không?)</p>
                    <p>- Does he like coffee? (Anh ấy có thích cà phê không?)</p>
                    <p>- Do they live in London? (Họ có sống ở London không?)</p>
                    <p>- Does she speak French? (Cô ấy có nói tiếng Pháp không?)</p>
                </div>
                
                <h2>5. Bài tập thực hành</h2>
                
                <p>Chia động từ trong ngoặc ở thì hiện tại đơn:</p>
                <ol>
                    <li>He _____ (go) to school by bus.</li>
                    <li>They _____ (not/watch) TV every evening.</li>
                    <li>_____ she _____ (like) chocolate?</li>
                    <li>I _____ (study) English twice a week.</li>
                    <li>We _____ (not/live) in a big city.</li>
                </ol>
                
                <p>Đáp án:</p>
                <ol>
                    <li>He goes to school by bus.</li>
                    <li>They don't watch TV every evening.</li>
                    <li>Does she like chocolate?</li>
                    <li>I study English twice a week.</li>
                    <li>We don't live in a big city.</li>
                </ol>
            {% elif content_type == 'past_tense' %}
                <h1>Thì quá khứ đơn (Simple Past Tense)</h1>
                
                <h2>1. Tóm tắt lý thuyết về thì quá khứ đơn</h2>
                
                <p>1.1 Cách sử dụng thì quá khứ đơn:</p>
                <ul>
                    <li>Diễn tả hành động đã xảy ra và kết thúc trong quá khứ.</li>
                    <li>Diễn tả thói quen trong quá khứ.</li>
                    <li>Diễn tả một chuỗi hành động xảy ra liên tiếp trong quá khứ.</li>
                </ul>
                
                <p>1.2 Dấu hiệu nhận biết thì quá khứ đơn:</p>
                <ul>
                    <li>Yesterday, last week/month/year, ago, in 2010, the other day...</li>
                </ul>
                
                <p>1.3 Cấu trúc của thì quá khứ đơn:</p>
                <ul>
                    <li>Khẳng định: S + V-ed/V2 + O</li>
                    <li>Phủ định: S + did + not + V(nguyên thể) + O</li>
                    <li>Nghi vấn: Did + S + V(nguyên thể) + O?</li>
                </ul>
                
                <h2>2. Các dạng của động từ trong thì quá khứ đơn</h2>
                
                <p>2.1 Động từ có quy tắc:</p>
                <ul>
                    <li>Thêm "-ed" vào sau động từ: work → worked, play → played</li>
                    <li>Nếu động từ tận cùng là "e", chỉ thêm "d": like → liked, love → loved</li>
                    <li>Nếu động từ tận cùng là phụ âm + y, đổi y thành i rồi thêm ed: study → studied</li>
                    <li>Nếu động từ tận cùng là một phụ âm đứng sau một nguyên âm, gấp đôi phụ âm cuối rồi thêm ed: stop → stopped</li>
                </ul>
                
                <p>2.2 Động từ bất quy tắc:</p>
                <ul>
                    <li>Thay đổi hoàn toàn: go → went, see → saw, buy → bought</li>
                    <li>Không thay đổi: put → put, cut → cut, read → read</li>
                </ul>
                
                <h2>3. Ví dụ minh họa</h2>
                
                <p>3.1 Câu khẳng định:</p>
                <div class="example">
                    <p>- I worked yesterday. (Tôi đã làm việc ngày hôm qua.)</p>
                    <p>- She went to Paris last summer. (Cô ấy đã đi Paris mùa hè năm ngoái.)</p>
                    <p>- They bought a new car last month. (Họ đã mua một chiếc xe mới tháng trước.)</p>
                </div>
                
                <p>3.2 Câu phủ định:</p>
                <div class="example">
                    <p>- I did not (didn't) work yesterday. (Tôi đã không làm việc ngày hôm qua.)</p>
                    <p>- She did not (didn't) go to Paris last summer. (Cô ấy đã không đi Paris mùa hè năm ngoái.)</p>
                    <p>- They did not (didn't) buy a new car last month. (Họ đã không mua một chiếc xe mới tháng trước.)</p>
                </div>
                
                <p>3.3 Câu nghi vấn:</p>
                <div class="example">
                    <p>- Did you work yesterday? (Bạn có làm việc ngày hôm qua không?)</p>
                    <p>- Did she go to Paris last summer? (Cô ấy có đi Paris mùa hè năm ngoái không?)</p>
                    <p>- Did they buy a new car last month? (Họ có mua một chiếc xe mới tháng trước không?)</p>
                </div>
            {% else %}
                <h1>{{ document.doc_name }}</h1>
                
                <p>Tài liệu này cung cấp các kiến thức cơ bản về tiếng Anh, giúp người học hiểu rõ cách sử dụng, cấu trúc và các điều cần lưu ý khi học tiếng Anh.</p>
                
                <h2>Nội dung chính:</h2>
                <ul>
                    <li>Giới thiệu về các khái niệm cơ bản trong tiếng Anh</li>
                    <li>Phân tích cấu trúc ngữ pháp thông dụng</li>
                    <li>Hướng dẫn cách sử dụng từ vựng hiệu quả</li>
                    <li>Các bài tập thực hành để củng cố kiến thức</li>
                    <li>Phương pháp học tiếng Anh hiệu quả</li>
                </ul>
                
                <p>Để tải tài liệu đầy đủ, vui lòng nhấn nút DOWNLOAD ở trên.</p>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}